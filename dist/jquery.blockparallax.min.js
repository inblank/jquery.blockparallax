/*!
 * jQuery Block Parallax - parallax in not rectangular blocks
 * (c) 2016 Pavel Aleksandrov
 * MIT Licensed.
 *
 * https://github.com/inblank/jquery.blockparallax
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){"use strict";t.fn.blockparallax=function(e){function n(){var e,n,a=0;t.each(i,function(t,r){e=r.isPattern?parseInt(r.element.attr("x")):parseInt(r.element.position().left),e!=r.newX?(n=(r.newX>e?1:-1)*Math.abs(r.ratio),0>n?e+n<r.newX&&(n=r.newX-e):e+n>r.newX&&(n=r.newX-e),r.isPattern?r.element.attr("x",e+n):r.element.css("left",e+n)):a++}),a==i.length&&(clearInterval(r),r=!1)}e=t.extend({path:null,smooth:7,speed:.03},e);var a,r,i=[];return this.each(function(){var o=t(this),s=o.innerWidth(),l=o.find('[data-parallax="path"]');if(l.length){l=l.eq(0),e.path&&e.path(o,l);var f=/\s*url\(["']?([^\)'"]+)["']?/.exec(l.css("fill"));if(f&&(f=o.find(f[1])).length){var p,c,h,u,d,x;o.find("[data-parallax-ratio]").each(function(){p=t(this),x=p.data("parallax-ratio"),0!=x&&(c="pattern"===p.parent()[0].tagName.toLowerCase(),h=p.position(),u=parseInt(c?p.attr("x"):h.left),d=parseInt(c?p.attr("y"):h.top),i.push({element:p,isPattern:c,ratio:x,x:u,y:d,newX:u,newY:d}))}),a=o.offset().left}}t("body").on("mousemove",function(o){var l=o.clientX-a;0>l&&(l=0),l>s&&(l=s),l-=s/2,t.each(i,function(t,n){n.newX=n.x-l*n.ratio*e.speed}),r||(r=setInterval(n,e.smooth))})}),this}});